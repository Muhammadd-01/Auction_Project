@model Auction_Project.models.Search

@{
    ViewData["Title"] = "Search Results";
}
@if (ViewBag.ErrorMessage != null)
{
    <div class="alert alert-danger">
        @ViewBag.ErrorMessage
    </div>
}

<div class="container mt-5">
    <h2 class="mb-4">Search Results for "@Model.Query"</h2>

    @if (!Model.BooksResults.Any() && !Model.ElectronicsResults.Any() && !Model.FurnituresResults.Any())
    {
        <div class="alert alert-warning">
            No items found matching "@Model.Query".
        </div>
    }

    <!-- BOOKS RESULTS -->
    @if (Model.BooksResults.Any())
    {
        <h4>Books</h4>
        <div class="row mb-4">
            @foreach (var book in Model.BooksResults)
            {
                <div class="col-md-4 mb-3">
                    <div class="card h-100">
                        <img src="@book.book_cover" class="card-img-top" alt="Book Image" style="height: 200px; object-fit: cover;" />
                        <div class="card-body">
                            <h5 class="card-title">@book.ItemTitle</h5>
                            <p class="card-text">@book.ItemDescription</p>
                            <p class="text-muted">SubCategory: @book.SubCategory</p>
                        </div>
                    </div>
                </div>
            }
        </div>
    }

    <!-- ELECTRONICS RESULTS -->
    @if (Model.ElectronicsResults.Any())
    {
        <h4>Electronics</h4>
        <div class="row mb-4">
            @foreach (var elec in Model.ElectronicsResults)
            {
                <div class="col-md-4 mb-3">
                    <div class="card h-100">
                        <img src="@elec.Electronic_cover" class="card-img-top" alt="Electronics Image" style="height: 200px; object-fit: cover;" />
                        <div class="card-body">
                            <h5 class="card-title">@elec.ItemTitle</h5>
                            <p class="card-text">@elec.ItemDescription</p>
                            <p class="text-muted">SubCategory: @elec.SubCategory</p>
                        </div>
                    </div>
                </div>
            }
        </div>
    }

    <!-- FURNITURES RESULTS -->
    @if (Model.FurnituresResults.Any())
    {
        <h4>Furnitures</h4>
        <div class="row mb-4">
            @foreach (var fur in Model.FurnituresResults)
            {
                <div class="col-md-4 mb-3">
                    <div class="card h-100">
                        <img src="@fur.Furniture_cover" class="card-img-top" alt="Furniture Image" style="height: 200px; object-fit: cover;" />
                        <div class="card-body">
                            <h5 class="card-title">@fur.ItemTitle</h5>
                            <p class="card-text">@fur.ItemDescription</p>
                            <p class="text-muted">SubCategory: @fur.SubCategory</p>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
</div>
